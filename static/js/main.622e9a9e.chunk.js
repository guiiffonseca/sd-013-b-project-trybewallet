(this["webpackJsonpsd-0x-project-trybewallet"]=this["webpackJsonpsd-0x-project-trybewallet"]||[]).push([[0],{29:function(e,t,a){},33:function(e,t,a){e.exports=a.p+"static/media/LogoTest.259e22ce.png"},34:function(e,t,a){e.exports=a.p+"static/media/headerLogo.6899dee4.jpg"},36:function(e,t,a){e.exports=a(51)},41:function(e,t,a){},46:function(e,t,a){},47:function(e,t,a){},49:function(e,t,a){},51:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(19),l=a.n(c),i=a(22),s=(a(41),a(10)),o=a(13),u=a(31),d=a(32),p=a(15);var m={email:""};var h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.user;switch(a){case"LOGIN":return Object(p.a)(Object(p.a)({},e),{},{email:n.email});default:return e}},b=a(35),E={currencies:[],expenses:[]};var v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.wallet;switch(a){case"ADD_EXPENSE":return Object(p.a)(Object(p.a)({},e),{},{currencies:n.currencies,expenses:[].concat(Object(b.a)(e.expenses),[n.expenses])});case"DELETE_EXPENSE":return Object(p.a)(Object(p.a)({},e),{},{currencies:n.currencies,expenses:n.expenses});default:return e}},f=Object(o.combineReducers)({user:h,wallet:v}),g=Object(o.createStore)(f,Object(u.composeWithDevTools)(Object(o.applyMiddleware)(d.a))),x=a(2),j=a(14),O=a(8),y=a(9),w=a(3),C=a(12),k=a(11),S=(a(46),a(33)),R=a.n(S),D=function(e){Object(C.a)(a,e);var t=Object(k.a)(a);function a(e){var n;return Object(O.a)(this,a),(n=t.call(this,e)).state={email:"",password:"",disabled:!0},n.handleChange=n.handleChange.bind(Object(w.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(w.a)(n)),n.validForm=n.validForm.bind(Object(w.a)(n)),n.sendLogin=n.sendLogin.bind(Object(w.a)(n)),n}return Object(y.a)(a,[{key:"validForm",value:function(){var e=this.state,t=e.password,a=e.email;[t.length<6,!a.includes("@"),a.split("@").length>2,!a.includes(".com")].every((function(e){return!1===e}))?this.setState({disabled:!1}):this.setState({disabled:!0})}},{key:"sendLogin",value:function(){var e=this.state.email,t=this.props,a=t.history;(0,t.UserLoginAction)(e),a.push("/carteira")}},{key:"handleChange",value:function(e){var t=e.target,a=t.name,n=t.value;this.setState(Object(j.a)({},a,n))}},{key:"handleSubmit",value:function(e){e.preventDefault()}},{key:"render",value:function(){var e=this.state,t=e.email,a=e.password,n=e.disabled;return r.a.createElement("div",{className:"login-screen"},r.a.createElement("img",{src:R.a,alt:"Login logo",className:"login-logo"}),r.a.createElement("div",{className:"login-container"},r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("input",{"data-testid":"email-input",className:"login-input",type:"email",name:"email",value:t,onChange:this.handleChange,onKeyUp:this.validForm,placeholder:"Email"}),r.a.createElement("input",{"data-testid":"password-input",className:"login-input",type:"password",name:"password",value:a,onChange:this.handleChange,onKeyUp:this.validForm,placeholder:"Password"}),r.a.createElement("button",{type:"submit",className:"login-button",disabled:n,onClick:this.sendLogin},"Entrar"))))}}]),a}(n.Component),L=Object(s.b)(null,(function(e){return{UserLoginAction:function(t){return e(function(e){return{type:"LOGIN",user:{email:e}}}(t))}}}))(D),N=(a(47),a(18)),A=a.n(N),T=a(24),F=function(e){Object(C.a)(a,e);var t=Object(k.a)(a);function a(){return Object(O.a)(this,a),t.apply(this,arguments)}return Object(y.a)(a,[{key:"render",value:function(){var e=this.props.addExpense;return r.a.createElement("div",null,r.a.createElement("button",{className:"add-button",type:"submit",onClick:e},"adicionar despesa"))}}]),a}(n.Component),U=(a(29),function(e){Object(C.a)(a,e);var t=Object(k.a)(a);function a(){var e;return Object(O.a)(this,a),(e=t.call(this)).deleteExpense=e.deleteExpense.bind(Object(w.a)(e)),e}return Object(y.a)(a,[{key:"deleteExpense",value:function(){var e=this.props.expense.id,t=this.props;(0,t.deleteExpenses)(t.expenses.filter((function(t){return t.id!==e})))}},{key:"render",value:function(){var e=this.props.expense,t=e.exchangeRates,a=e.currency,n=e.description,c=e.tag,l=e.method,i=e.value,s=Object.values(t),o=s.filter((function(e){return e.code===a})),u=Number(i)*o[0].ask,d=parseInt(100*u,10)/100,p=s.filter((function(e){return e.code===a}))[0].ask;return r.a.createElement("tr",null,r.a.createElement("td",null,n),r.a.createElement("td",null,c),r.a.createElement("td",null,l),r.a.createElement("td",null,"".concat(parseInt(i,10))),r.a.createElement("td",null,{USD:"D\xf3lar Comercial",CAD:"D\xf3lar Canadense",EUR:"Euro",GBP:"Libra Esterlina",ARS:"Peso",BTC:"Bitcoin",LTC:"Litecoin",JPY:"Yen",CHF:"Swiss",AUD:"D\xf3lar Australiano",CNY:"Yuan",ILS:"Israeli New Shekew",ETH:"Ethereum",XRP:"Riple"}[a]),r.a.createElement("td",null,parseFloat(p).toFixed(2)),r.a.createElement("td",null,d),r.a.createElement("td",null,"Real"),r.a.createElement("td",null,r.a.createElement("button",{type:"button","data-testid":"delete-btn",className:"delete-button",onClick:this.deleteExpense},"Delete")))}}]),a}(n.Component)),H=Object(s.b)((function(e){return{expenses:e.wallet.expenses}}),(function(e){return{deleteExpenses:function(t){return e(function(e){return{type:"DELETE_EXPENSE",wallet:{expenses:e}}}(t))}}}))(U),I=(a(49),function(e){Object(C.a)(a,e);var t=Object(k.a)(a);function a(){var e;return Object(O.a)(this,a),(e=t.call(this)).state={id:0,value:0,description:"none",currency:"USD",method:"Dinheiro",tag:"Alimenta\xe7\xe3o",exchangeRates:{}},e.AddExpenseHelper=e.AddExpenseHelper.bind(Object(w.a)(e)),e.chang=e.chang.bind(Object(w.a)(e)),e.addExpense=e.addExpense.bind(Object(w.a)(e)),e.handleSubmit=e.handleSubmit.bind(Object(w.a)(e)),e.exchangeRatesRequisition=e.exchangeRatesRequisition.bind(Object(w.a)(e)),e.renderAddExpenses=e.renderAddExpenses.bind(Object(w.a)(e)),e.renderExpenseHeader=e.renderExpenseHeader.bind(Object(w.a)(e)),e}return Object(y.a)(a,[{key:"componentDidMount",value:function(){this.exchangeRatesRequisition()}},{key:"chang",value:function(e){var t=e.target,a=t.name,n=t.value;this.setState(Object(j.a)({},a,n))}},{key:"exchangeRatesRequisition",value:function(){var e=Object(T.a)(A.a.mark((function e(){var t,a;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://economia.awesomeapi.com.br/json/all");case 2:return t=e.sent,e.next=5,t.json();case 5:delete(a=e.sent).USDT,this.setState({exchangeRates:a});case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleSubmit",value:function(e){e.preventDefault()}},{key:"AddExpenseHelper",value:function(){var e=this.props.walletAction,t=this.state,a=t.value,n=t.currency;e({id:t.id,description:t.description,method:t.method,tag:t.tag,value:a,currency:n,exchangeRates:t.exchangeRates})}},{key:"addExpense",value:function(){var e=Object(T.a)(A.a.mark((function e(){var t,a,n,r,c,l,i,s,o,u;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.exchangeRatesRequisition();case 2:t=this.props.walletAction,a=this.state,n=a.value,r=a.currency,c=a.exchangeRates,l=a.id,i=this.state,s=i.description,o=i.method,u=i.tag,t({id:l,description:s,method:o,tag:u,value:n,currency:r,exchangeRates:c}),this.setState({id:l+1});case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"renderAddExpenses",value:function(){var e=this.state,t=e.value,a=e.description,n=e.currency,c=e.method,l=e.tag,i=e.exchangeRates,s=this.chang,o=this.addExpense,u=this.handleSubmit;return r.a.createElement("form",{className:"wallet-container",onSubmit:u},r.a.createElement("label",{htmlFor:"v"},"Valor",r.a.createElement("input",{type:"number",name:"value",id:"v",onChange:s,value:t})),r.a.createElement("label",{htmlFor:"d"},"Descri\xe7\xe3o",r.a.createElement("input",{type:"text",name:"description",id:"d",onChange:this.chang,value:a})),r.a.createElement("label",{htmlFor:"c"},"Moeda",r.a.createElement("select",{name:"currency",id:"c",onChange:this.chang,value:n},Object.values(i).map((function(e){var t=e.code,a=e.name;return r.a.createElement("option",{key:a},t)})))),r.a.createElement("label",{htmlFor:"pt"},"M\xe9todo de pagamento",r.a.createElement("select",{name:"method",id:"pt",onChange:this.chang,value:c},r.a.createElement("option",{value:"Dinheiro"},"Dinheiro"),r.a.createElement("option",{value:"Cart\xe3o de cr\xe9dito"},"Cart\xe3o de cr\xe9dito"),r.a.createElement("option",{value:"Cart\xe3o de d\xe9bito"},"Cart\xe3o de d\xe9bito"))),r.a.createElement("label",{htmlFor:"ps"},"Tag",r.a.createElement("select",{name:"tag",id:"ps",onChange:this.chang,value:l},r.a.createElement("option",{value:"Alimentacao"},"Alimenta\xe7\xe3o"),r.a.createElement("option",{value:"Lazer"},"Lazer"),r.a.createElement("option",{value:"Trabalho"},"Trabalho"),r.a.createElement("option",{value:"Trasporte"},"Transporte"),r.a.createElement("option",{value:"Sa\xfade"},"Sa\xfade"))),r.a.createElement(F,{addExpense:o}))}},{key:"renderExpenseHeader",value:function(){return r.a.createElement("tr",null,r.a.createElement("th",null,"Descri\xe7\xe3o"),r.a.createElement("th",null,"Tag"),r.a.createElement("th",null,"M\xe9todo de pagamento"),r.a.createElement("th",null,"Valor"),r.a.createElement("th",null,"Moeda"),r.a.createElement("th",null,"C\xe2mbio utilizado"),r.a.createElement("th",null,"Valor convertido"),r.a.createElement("th",null,"Moeda de convers\xe3o"),r.a.createElement("th",null,"Excluir"))}},{key:"render",value:function(){var e=this.props.expenses;return r.a.createElement("div",null,this.renderAddExpenses(),r.a.createElement("table",{className:"expenses-table"},this.renderExpenseHeader(),e.map((function(e){return r.a.createElement(H,{expense:e,key:e.id})}))))}}]),a}(n.Component)),P=Object(s.b)((function(e){return{expenses:e.wallet.expenses}}),(function(e){return{walletAction:function(t){return e(function(e){return{type:"ADD_EXPENSE",wallet:{expenses:e}}}(t))}}}))(I),_=a(34),M=a.n(_),B=function(e){Object(C.a)(a,e);var t=Object(k.a)(a);function a(e){var n;return Object(O.a)(this,a),(n=t.call(this,e)).createLogin=n.createLogin.bind(Object(w.a)(n)),n.handleChange=n.handleChange.bind(Object(w.a)(n)),n.handleExpenses=n.handleExpenses.bind(Object(w.a)(n)),n}return Object(y.a)(a,[{key:"createLogin",value:function(){var e=this.props.email,t=e.indexOf("@");return"_".concat(e[0].toUpperCase()).concat(e.substr(1,t-1),"_")}},{key:"handleChange",value:function(e){var t=e.target,a=t.name,n=t.value;this.setState(Object(j.a)({},a,n))}},{key:"handleExpenses",value:function(){var e=this.props.expenses,t=e.map((function(e){var t=e.exchangeRates,a=e.currency,n=e.value,r=Object.values(t).filter((function(e){return e.code===a})),c=Number(n)*r[0].ask;return parseInt(100*c,10)/100}));return e.length?parseInt(100*t.reduce((function(e,t){return e+t})),10)/100:0}},{key:"render",value:function(){this.handleExpenses();var e,t=this.props.email,a=t.indexOf("@");return t&&(e="_".concat(t[0].toUpperCase()).concat(t.substr(1,a-1),"_")),r.a.createElement("div",{className:"wallet-style"},r.a.createElement("header",{className:"header-container"},r.a.createElement("span",{id:"user"},e),r.a.createElement("img",{src:M.a,alt:"header Logo"}),r.a.createElement("span",{id:"user-email","data-testid":"email-field"},"Email: ".concat(t)),r.a.createElement("div",{className:"expenses-container"},r.a.createElement("span",{"data-testid":"total-field",id:"total-field"},"Despesa Total: R$ ".concat(this.handleExpenses())),r.a.createElement("span",{"data-testid":"header-currency-field",id:"currency"}," BRL"))),r.a.createElement(P,null))}}]),a}(r.a.Component),q=Object(s.b)((function(e){return{email:e.user.email,expenses:e.wallet.expenses}}))(B);var X=function(){return r.a.createElement(x.c,null,r.a.createElement(x.a,{exact:!0,path:"/",component:L}),r.a.createElement(x.a,{exact:!0,path:"/carteira",component:q}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(s.a,{store:g},r.a.createElement(i.a,null,r.a.createElement(X,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[36,1,2]]]);
//# sourceMappingURL=main.622e9a9e.chunk.js.map